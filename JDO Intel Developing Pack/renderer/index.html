<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RemoteDesk</title>
    <style>
      :root {
        color-scheme: dark;
        --bg: #0b1020;
        --panel: #11182c;
        --border: #1f2937;
        --accent: #2563eb;
        --text: #e2e8f0;
        --muted: #94a3b8;
      }
      * { box-sizing: border-box; }
      body { font-family: 'Segoe UI', system-ui, sans-serif; margin: 0; padding: 0; background: var(--bg); color: var(--text); }
      header { padding: 14px 18px; background: #0f172a; display: flex; align-items: center; gap: 12px; border-bottom: 1px solid var(--border); }
      header strong { font-size: 18px; letter-spacing: 0.2px; }
      .status { font-size: 12px; color: #93c5fd; padding: 4px 8px; border: 1px solid #1d4ed8; border-radius: 6px; background: rgba(37,99,235,0.1); }
      main { display: grid; grid-template-columns: 340px 1fr; min-height: calc(100vh - 60px); }
      section { padding: 18px; border-right: 1px solid var(--border); }
      section:last-child { border-right: none; }
      input, button, select { padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border); background: #0f172a; color: var(--text); width: 100%; }
      button { cursor: pointer; background: var(--accent); border: none; font-weight: 700; letter-spacing: 0.1px; transition: transform 120ms ease, opacity 120ms; }
      button:hover { transform: translateY(-1px); opacity: 0.96; }
      button.secondary { background: #0f172a; border: 1px solid var(--border); }
      .row { display: flex; gap: 10px; align-items: center; }
      .row > * { flex: 1; }
      .card { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 14px; margin-bottom: 14px; box-shadow: 0 12px 30px rgba(0,0,0,0.18); }
      .card h3 { margin: 0 0 8px; font-size: 15px; letter-spacing: 0.1px; }
      .hint { font-size: 12px; color: var(--muted); margin-top: 4px; }
      .video-container { background: #0b1220; border-radius: 14px; border: 1px solid var(--border); height: 520px; display: grid; place-items: center; overflow: hidden; }
      video { max-width: 100%; max-height: 100%; background: black; border-radius: 10px; }
      .log { max-height: 160px; overflow-y: auto; font-family: 'Cascadia Code', monospace; font-size: 12px; background: #0b1220; border: 1px solid var(--border); border-radius: 10px; padding: 10px; line-height: 1.4; }
      .pill { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; background: rgba(37,99,235,0.12); color: #bfdbfe; border: 1px solid #1d4ed8; }
    </style>
  </head>
  <body>
    <header>
      <strong>RemoteDesk</strong>
      <span class="status" id="status">Idle</span>
    </header>
    <main>
      <section>
        <div class="card">
          <h3>Your ID</h3>
          <div class="pill" id="host-session-pill">Generating…</div>
          <div class="hint">Share this ID with your partner. No password required.</div>
          <div class="row" style="margin-top:10px;">
            <button class="secondary" id="btn-copy-session">Copy ID</button>
            <button class="secondary" id="btn-refresh-id">Refresh ID</button>
            <button id="btn-start-host">Start Hosting</button>
          </div>
        </div>
        <div class="card">
          <h3>Connect to partner</h3>
          <div class="row"><input id="join-session-id" placeholder="Partner ID" /></div>
          <div class="row">
            <button id="btn-join">Connect</button>
          </div>
          <div class="hint">Enter the ID shown on your partner’s device.</div>
        </div>
        <div class="card">
          <h3>Screen Source</h3>
          <div class="row">
            <select id="source-select"></select>
          </div>
          <div class="hint">Choose which screen/window to share when hosting.</div>
        </div>
        <div class="card">
          <h3>File Transfer</h3>
          <div class="row"><input id="file-input" type="file" webkitdirectory directory multiple /></div>
          <div class="row"><button id="btn-send-files">Send Selected Folder</button></div>
          <div class="hint">Currently sends file list via data channel (POC).</div>
        </div>
      </section>
      <section>
        <div class="video-container">
          <video id="remote-video" autoplay playsinline></video>
        </div>
        <div class="card">
          <div class="row" style="gap:6px">
            <button class="secondary" id="btn-clear-log">Clear Log</button>
          </div>
          <div class="log" id="log"></div>
        </div>
      </section>
    </main>
    <script src="renderer.js"></script>
  </body>
</html>